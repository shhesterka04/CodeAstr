package cmd

import (
	"math/rand"
	"time"

	tgbotapi "github.com/go-telegram-bot-api/telegram-bot-api/v5"
)

type StartCommand struct{}

func (c *StartCommand) Execute(api *tgbotapi.BotAPI, message *tgbotapi.Message) {
	startMessages := []string{
		"–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é —Ç–µ–±—è –≤ –º–∏—Ä–µ –∞—Å—Ç—Ä–æ–ª–æ–≥–∏–∏! üåü –Ø ‚Äî —Ç–≤–æ–π –ª–∏—á–Ω—ã–π –∑–≤–µ–∑–¥–Ω—ã–π –≥–∏–¥. –ì–æ—Ç–æ–≤ –Ω–∞—á–∞—Ç—å –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ –ø–æ –∑–≤–µ–∑–¥–∞–º? –í—ã–±–∏—Ä–∞–π, —á—Ç–æ —Ç–µ–±—è –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç, –∏ —É–∑–Ω–∞–≤–∞–π —Ç–∞–π–Ω—ã –í—Å–µ–ª–µ–Ω–Ω–æ–π!",
		"–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é —Ç–µ–±—è –≤ –º–∏—Ä–µ –∫–æ—Å–º–∏—á–µ—Å–∫–∏—Ö —Ç–∞–π–Ω! ‚ú® –Ø ‚Äî —Ç–≤–æ–π –ª–∏—á–Ω—ã–π –∞—Å—Ç—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å–æ–≤–µ—Ç–Ω–∏–∫. –ì–æ—Ç–æ–≤ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å—Å—è –≤ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—â–µ–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ –ø–æ –∑–≤—ë–∑–¥–∞–º?",
		"–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! üåü –Ø –∑–Ω–∞—é, —á—Ç–æ –ø–ª–∞–Ω–µ—Ç—ã –ø—Ä–∏–≥–æ—Ç–æ–≤–∏–ª–∏ –¥–ª—è —Ç–µ–±—è –Ω–∞ —Å–µ–≥–æ–¥–Ω—è. –ü—Ä–æ—Å—Ç–æ –≤—ã–±–µ—Ä–∏, —Å —á–µ–≥–æ –Ω–∞—á–Ω—ë–º, –∏ –¥–∞–≤–∞–π —É–∑–Ω–∞–µ–º –±—É–¥—É—â–µ–µ!",
		"–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π, –∏—Å–∫–∞—Ç–µ–ª—å –∑–Ω–∞–Ω–∏–π! üîÆ –Ø –ø–æ–º–æ–≥—É —Ç–µ–±–µ —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –≤ –∞—Å—Ç—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–≥–Ω–æ–∑–∞—Ö –∏ –Ω–∞–π—Ç–∏ –æ—Ç–≤–µ—Ç—ã —Å—Ä–µ–¥–∏ –∑–≤—ë–∑–¥. –ß—Ç–æ —Ö–æ—á–µ—à—å —É–∑–Ω–∞—Ç—å –ø–µ—Ä–≤—ã–º?",
	}

	rand.Seed(time.Now().UnixNano())
	startMessage := startMessages[rand.Intn(len(startMessages))]

	msg := tgbotapi.NewMessage(message.Chat.ID, startMessage)

	buttons := [][]tgbotapi.KeyboardButton{
		{
			tgbotapi.NewKeyboardButton("–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è"),
			tgbotapi.NewKeyboardButton("–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å"),
		},
		{
			tgbotapi.NewKeyboardButton("–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏"),
			tgbotapi.NewKeyboardButton("–û –±–æ—Ç–µ"),
		},
	}

	keyboard := tgbotapi.NewReplyKeyboard(buttons...)
	msg.ReplyMarkup = keyboard

	api.Send(msg)
}
